{"version":3,"sources":["webpack:///D:/ximei/XiMei/pages/category/category.vue?bc20","webpack:///D:/ximei/XiMei/pages/category/category.vue?dec4","webpack:///D:/ximei/XiMei/pages/category/category.vue?a417","webpack:///D:/ximei/XiMei/pages/category/category.vue?0088","webpack:///D:/ximei/XiMei/pages/category/category.vue","webpack:///D:/ximei/XiMei/pages/category/category.vue?35ae","webpack:///D:/ximei/XiMei/pages/category/category.vue?ef0b"],"names":["data","sizeCalcState","tabScrollTop","currentId","flist","slist","tlist","onLoad","loadData","methods","params","uni","getStorageSync","that","showLoading","title","api","post","res","content","list_a","num","i","push","console","log","forEach","item","index","id","parentID","name","list_b","isNaN","ID","CparentID","pid","pic","split","list_c","target","img","setTimeout","hideLoading","tabtap","calcSize","findIndex","sitem","top","asideScroll","e","scrollTop","detail","tabs","filter","reverse","length","h","view","createSelectorQuery","select","fields","size","height","bottom","exec","navToList","navigateTo","url","currentTarget"],"mappings":"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","file":"pages/category/category.js","sourcesContent":["import { render, staticRenderFns } from \"./category.vue?vue&type=template&id=604f83a8&\"\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('604f83a8', component.options)\n    } else {\n      api.reload('604f83a8', component.options)\n    }\n    module.hot.accept(\"./category.vue?vue&type=template&id=604f83a8&\", function () {\n      api.rerender('604f83a8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"ximei/XiMei/pages/category/category.vue\"\nexport default component.exports","import mod from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../Hbuilder/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=template&id=604f83a8&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from '../../common/index.js';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsizeCalcState: false,\n\t\t\ttabScrollTop: 0,\n\t\t\tcurrentId: 1,\n\t\t\tflist: [],\n\t\t\tslist: [],\n\t\t\ttlist: [],\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.loadData();\n\t},\n\tmethods: {\n\t\tasync loadData() {\n\t\t\tconst params = uni.getStorageSync('userinfo');\n\t\t\tvar that = this;\n\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\n\n\t\t\t//获取商品\n\t\t\tapi.post(\"/index.php/Home/Category/categories_tree\", \"\", function(res) {\n\t\t\t\tvar content = res.data;\n\t\t\t\tvar list_a = [];\n\t\t\t\tvar num = 1;\n\t\t\t\tfor (let i in content) {\n\t\t\t\t\tlist_a.push(content[i]); //属性\n\t\t\t\t}\n\t\t\t\tconsole.log(list_a)\n\n\t\t\t\tlist_a.forEach(function(item, index) {\n\n\t\t\t\t\titem.id = num++;\n\t\t\t\t\tvar parentID = item.id\n\n\t\t\t\t\tif (item.name) {\n\t\t\t\t\t\tthat.flist.push(item);\n\t\t\t\t\t\tvar list_b = [];\n\t\t\t\t\t\t// 获取跳转ID\n\t\t\t\t\t\tfor (let i in item) {\n\t\t\t\t\t\t\tif (!isNaN(i)) {\n\t\t\t\t\t\t\t\titem[i].index = i;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlist_b.push(item[i]); //属性\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log(list_b)\n\t\t\t\t\t\tlist_b.forEach(function(res, index) {\n\n\t\t\t\t\t\t\tif (typeof(res) == \"object\") {\n\t\t\t\t\t\t\t\tres.ID = num++;\n\t\t\t\t\t\t\t\tvar CparentID = res.ID\n\t\t\t\t\t\t\t\tres.pid = parentID;\n\t\t\t\t\t\t\t\tres.pic = res.pic.split(\",\");\n\n\t\t\t\t\t\t\t\tlet list_c = res.pic\n\t\t\t\t\t\t\t\tlist_c.forEach(function(res, index) {\n\t\t\t\t\t\t\t\t\tconst target = {};\n\n\t\t\t\t\t\t\t\t\tif (res != \"\") {\n\t\t\t\t\t\t\t\t\t\ttarget.img = 'http://img.xmvogue.com/thumb/' + res + '.jpg?x-oss-process=style/300';\n\t\t\t\t\t\t\t\t\t\ttarget.pid = CparentID;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttarget.img = 'http://dh.xmcpcn.com/Public/images/none.jpg';\n\t\t\t\t\t\t\t\t\t\ttarget.pid = CparentID;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthat.tlist.push(target);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tthat.slist.push(res);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t})\n\t\t\tsetTimeout(function() {\n\t\t\t\tuni.hideLoading();\n\t\t\t}, 1500);\n\t\t},\n\t\t//一级分类点击\n\t\ttabtap(item) {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载中'\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tuni.hideLoading();\n\t\t\t}, 1000);\n\t\t\tif (!this.sizeCalcState) {\n\t\t\t\t\n\t\t\t\tthis.calcSize();\n\t\t\t}\n\t\t\tthis.currentId = item.id;\n\t\t\tlet index = this.slist.findIndex(sitem => sitem.pid === item.id);\n\t\t\tthis.tabScrollTop = this.slist[index].top;\n\n\n\t\t},\n\t\t//右侧栏滚动\n\t\tasideScroll(e) {\n\t\t\tif (!this.sizeCalcState) {\n\t\t\t\tthis.calcSize();\n\t\t\t\t\n\t\t\t}\n\t\t\tlet scrollTop = e.detail.scrollTop;\n\t\t\tlet tabs = this.slist.filter(item => item.top <= scrollTop).reverse();\n\t\t\tif (tabs.length > 0) {\n\t\t\t\tthis.calcSize();\n\t\t\t\tthis.currentId = tabs[0].pid;\n\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\t//计算右侧栏每个tab的高度等信息\n\t\tcalcSize() {\n\t\t\tlet h = 0;\n\t\t\t\n\t\t\tthis.slist.forEach(item => {\n\n\t\t\t\tlet view = uni.createSelectorQuery().select(\"#main-\" + item.id);\n\t\t\t\tview.fields({\n\t\t\t\t\tsize: true\n\t\t\t\t}, data => {\n\t\t\t\t\titem.top = h;\n\t\t\t\t\th += data.height;\n\t\t\t\t\titem.bottom = h;\n\t\t\t\t}).exec();\n\t\t\t})\n\t\t\tthis.sizeCalcState = true;\n\t\t},\n\t\tnavToList(e) {\n\t\t\t// console.log(e.currentTarget.id);\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/product/list?listId=${e.currentTarget.id}`\n\t\t\t})\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}