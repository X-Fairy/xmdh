{"version":3,"sources":["webpack:///E:/项萍/熙美订货/main.js","webpack:///E:/项萍/熙美订货/App.vue?7714","webpack:///E:/项萍/熙美订货/App.vue?63ab","webpack:///E:/项萍/熙美订货/App.vue","webpack:///E:/项萍/熙美订货/App.vue?44fe","webpack:///E:/项萍/熙美订货/App.vue?9a9b"],"names":["Vue","use","VueI18n","VueLazyload","loading","require","msg","title","duration","mask","icon","Boolean","uni","showToast","json","type","Promise","resolve","setTimeout","Json","prePage","pages","getCurrentPages","length","$vm","currentVersion","id","i18n","locale","messages","enmsg","zhmsg","prototype","_i18n","$current","config","productionTip","$fire","$store","store","$api","$xm","index","$ajax","ajax","App","mpType","app","$mount","QQMapWX","qqmapsdk","methods","createWebSocket","wsUrl","heartCheck","timeout","timeoutObj","serverTimeoutObj","reset","clearTimeout","start","self","sendSocketMessage","data","success","res","fail","console","log","onSocketClose","reconnect","connectSocket","url","onSocketOpen","getStorageSync","route","split","test","hdid","username","class","action","content","params","JSON","stringify","onSocketMessage","computed","$t","onLaunch","key","updateManager","getUpdateManager","onCheckForUpdate","onUpdateReady","that","showModal","cancelText","cancel","confirmText","confirm","applyUpdate","onUpdateFailed","onShow","state","lang","$i18n","setTabBarItem","text","tab1","tab2","tab3","tab4","reverseGeocoder","location","result","address_component","nation","dispatch","address","getters","imgShow","onHide","closeSocket"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';import Vue from 'vue'\r\nimport store from './store'\r\nimport App from './App'\r\nimport Json from './Json' //测试用数据\r\nimport index from './common/index'\r\nimport ajax from './common/request'\r\nimport enmsg from './common/en'\r\nimport zhmsg from './common/zh'\r\nimport VueI18n from 'vue-i18n'\r\nimport VueLazyload from 'vue-lazyload' //图片的懒加载\r\nVue.use(VueI18n);\r\nVue.use(VueLazyload, {\r\n\tloading: require('@/static/60x60.png')\r\n})\r\nconst msg = (title, duration = 1500, mask = false, icon = 'none') => {\r\n\t//统一提示方便全局修改\r\n\tif (Boolean(title) === false) {\r\n\t\treturn;\r\n\t}\r\n\tuni.showToast({\r\n\t\ttitle,\r\n\t\tduration,\r\n\t\tmask,\r\n\t\ticon\r\n\t});\r\n}\r\nconst json = type => {\r\n\t//模拟异步请求数据\r\n\treturn new Promise(resolve => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tresolve(Json[type]);\r\n\t\t}, 500)\r\n\t})\r\n}\r\n\r\nconst prePage = () => {\r\n\tlet pages = getCurrentPages();\r\n\tlet prePage = pages[pages.length - 2];\r\n\r\n\r\n\r\n\treturn prePage.$vm;\r\n}\r\nconst currentVersion = {\r\n\tid: 1002\r\n}\r\nconst i18n = new VueI18n({\r\n\tlocale: 'zh',\r\n\tmessages: {\r\n\t\t'en': enmsg,\r\n\t\t'zh': zhmsg\r\n\t}\r\n})\r\nVue.prototype._i18n = i18n\r\nVue.prototype.$current = currentVersion\r\n\r\nVue.config.productionTip = false\r\nVue.prototype.$fire = new Vue();\r\nVue.prototype.$store = store;\r\nVue.prototype.$api = {\r\n\tmsg,\r\n\tjson,\r\n\tprePage\r\n};\r\nVue.prototype.$xm = index;\r\nVue.prototype.$ajax = ajax;\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n\ti18n,\r\n\t...App\r\n})\r\n\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"E:/项萍/熙美订货/App.vue\"\nexport default component.exports","import mod from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","\nvar QQMapWX = require('common/qqmap-wx-jssdk.min.js');\nvar qqmapsdk;\nimport api from '@/common/index.js';\nimport {\n\tmapMutations\n} from 'vuex';\nexport default {\n\tmethods: {\n\t\tcreateWebSocket() {\n\t\t\tlet wsUrl = \"wss://sw.xmvogue.com\";\n\t\t\tvar heartCheck = {\n\t\t\t\ttimeout: 30000, //毫秒\n\t\t\t\ttimeoutObj: null,\n\t\t\t\tserverTimeoutObj: null,\n\t\t\t\treset: function() {\n\t\t\t\t\tclearTimeout(this.timeoutObj);\n\t\t\t\t\tclearTimeout(this.serverTimeoutObj);\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tstart: function() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tthis.timeoutObj = setTimeout(function() {\n\t\t\t\t\t\tuni.sendSocketMessage({\n\t\t\t\t\t\t\tdata: \"keep\",\n\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t// console.log(res);\n\t\t\t\t\t\t\t\theartCheck.reset().start();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tself.serverTimeoutObj = setTimeout(function() { //如果超过一定时间还没重置，说明后端主动断开了\n\t\t\t\t\t\t\tuni.onSocketClose(function(res) {\n\t\t\t\t\t\t\t\tconsole.log('WebSocket 已关闭！');\n\t\t\t\t\t\t\t\treconnect(wsUrl); //重连\n\t\t\t\t\t\t\t}); //如果onclose会执行reconnect，我们执行ws.close()就行了.如果直接执行reconnect 会触发onclose导致重连两次\n\t\t\t\t\t\t}, self.timeout)\n\t\t\t\t\t}, this.timeout)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 连接WebSocket\n\t\t\tuni.connectSocket({\n\t\t\t\turl: wsUrl\n\t\t\t});\n\t\t\t// 连接成功\n\t\t\tuni.onSocketOpen(function(res) {\n\t\t\t\t// console.log(\"成功连接到\" + wsUrl);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tconst data = uni.getStorageSync('userinfo');\n\t\t\t\t\tconst pages = getCurrentPages();\n\t\t\t\t\tlet url = pages[0].route.split(\"/\");\n\t\t\t\t\tconsole.log(pages)\n\t\t\t\t\tlet test = '{\"user_id\":\"' + data.hdid + '\",\"user_name\":\"' + data.username + '\",\"page\":\"' + url[2] +\n\t\t\t\t\t\t'\",\"src\":\"app\"}'\n\t\t\t\t\tlet msg = {\n\t\t\t\t\t\tclass: \"Xmorder\",\n\t\t\t\t\t\taction: \"connect\",\n\t\t\t\t\t\tcontent: test\n\t\t\t\t\t}\n\t\t\t\t\tlet params = JSON.stringify(msg);\n\t\t\t\t\tuni.sendSocketMessage({\n\t\t\t\t\t\tdata: params,\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tconsole.log(params);\n\t\t\t\t\t\t\theartCheck.reset().start()\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}, 2000);\n\t\t\t});\n\n\t\t\t// 服务器返回消息\n\t\t\tuni.onSocketMessage(function(res) {\n\t\t\t\tconsole.log(res);\n\t\t\t});\n\t\t},\n\n\n\t},\n\tcomputed: {\n\t\ti18n() {\n\t\t\treturn this.$t(\"index\")\n\t\t}\n\t},\n\tonLaunch: function() {\n\n\t\tqqmapsdk = new QQMapWX({\n\t\t\tkey: 'Y63BZ-KFOWF-LRRJZ-NL52N-OC2F2-T2FPA'\n\t\t});\n\n\n\t\tconst updateManager = uni.getUpdateManager();\n\t\tupdateManager.onCheckForUpdate(function(res) {});\n\t\tupdateManager.onUpdateReady(function(res) {\n\t\t\tlet that = this\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '更新提示',\n\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\n\t\t\t\tcancelText: that.$t('index').cancel,\n\t\t\t\tconfirmText: that.$t('index').confirm,\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tupdateManager.applyUpdate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tupdateManager.onUpdateFailed(function(res) {\n\t\t\t// 新的版本下载失败\n\t\t});\n\n\t},\n\tonShow: function() {\n\t\tlet that = this;\n\t\tsetTimeout(function(){\n\t\t\tif (that.$store.state.app == \"2\") {\n\t\t\t\tlet lang = uni.getStorageSync('lang');\n\t\t\t\t\n\t\t\t\tif (lang) {\n\t\t\t\t\tif (lang.locale == \"zh\") {\n\t\t\t\t\t\tthis.$i18n.locale = 'zh';\n\t\t\t\t\t}\n\t\t\t\t\tif (lang.locale == \"en\") {\n\t\t\t\t\t\tthis.$i18n.locale = 'en';\n\t\t\t\t\t}\n\t\t\t\t\tuni.setTabBarItem({\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\ttext: that.$t(\"index\").tab1\n\t\t\t\t\t});\n\t\t\t\t\tuni.setTabBarItem({\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\ttext: that.$t(\"index\").tab2\n\t\t\t\t\t});\n\t\t\t\t\tuni.setTabBarItem({\n\t\t\t\t\t\tindex: 2,\n\t\t\t\t\t\ttext: that.$t(\"index\").tab3\n\t\t\t\t\t});\n\t\t\t\t\tuni.setTabBarItem({\n\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\ttext: that.$t(\"index\").tab4\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$i18n.locale = 'zh';\n\t\t\t\t}\n\t\t\t\tif (uni.getStorageSync('userinfo') != \"\") {\n\t\t\t\t\tthis.createWebSocket();\n\t\t\t\t}\n\n\n\n\n\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tqqmapsdk.reverseGeocoder({\n\t\t\t\t\t\tlocation: '',\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tif (res.result.address_component.nation == \"中国\") {\n\t\t\t\t\t\t\t\tthat.$store.dispatch('imghideZN');\n\t\t\t\t\t\t\t\tthat.$api.msg(that.$t('index').address + res.result.address_component.nation)\n\t\t\t\t\t\t\t\t// console.log(that.$store.getters.imgShow)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.$store.dispatch('imgshowEN');\n\t\t\t\t\t\t\t\t// console.log(that.$store.getters.imgShow)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(that.$store.getters.imgShow) //测试图片切换\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\t\tconsole.log('获取当前地址失败');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 2000)\n\t\t\t}\n\t\t}, 300)\n\t},\n\tonHide: function() {\n\t\tuni.closeSocket();\n\t\tuni.onSocketClose(function(res) {\n\t\t\tconsole.log('WebSocket 已关闭！');\n\t\t});\n\n\t}\n\n\n}\n","import mod from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\xmcp\\\\Downloads\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588644346128\n      var cssReload = require(\"C:/Users/xmcp/Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}