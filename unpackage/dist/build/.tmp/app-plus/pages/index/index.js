(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"110b":function(t,e,n){"use strict";(function(t){n("d471"),n("921b");i(n("66fd"));var e=i(n("8bc3"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"6b3f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},7879:function(t,e,n){},"8bc3":function(t,e,n){"use strict";n.r(e);var i=n("6b3f"),a=n("dbf0");for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);n("ffe9");var c=n("2877"),s=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},"8c34":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(n("a34a")),o=c(n("3d3b"));function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,a,o,c){try{var s=t[o](c),r=s.value}catch(u){return void n(u)}s.done?e(r):Promise.resolve(r).then(i,a)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var o=t.apply(e,n);function c(t){s(o,i,a,c,r,"next",t)}function r(t){s(o,i,a,c,r,"throw",t)}c(void 0)})}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){return n.e("components/uni-number-box").then(n.bind(null,"a528"))},d=function(){return n.e("components/uni-countdown/uni-countdown").then(n.bind(null,"8027"))},p=function(){return n.e("components/over").then(n.bind(null,"35b2"))},g=function(){return n.e("components/img-lazy/img-lazy").then(n.bind(null,"b066"))},f={banner:[],gg:[],promotionUrl:"",swiperLength:"",newList:[],mentList:[],sellList:[],seckillList:[],goodsList:[],typelist:[],height:0,windowHeight:0},v={components:u({uniNumberBox:l,uniCountdown:d,over:p,imglazy:g},"uniCountdown",d),data:function(){return{promotion:"",titleNViewBackground:"",swiperCurrent:0,title:"滚动公告",over:!1,backweb:!0,placeholderSrc:"../../static/60x60.png",index:{banner:[],gg:[],promotionUrl:"",swiperLength:"",newList:[],mentList:[],sellList:[],seckillList:[],goodsList:[],typelist:[],height:0,windowHeight:0},list:[{img:1,error:2},{img:1,error:2}],loadDATA1:!1}},computed:{i18n:function(){return this.$t("index")}},onLoad:function(t){},onShow:function(e){var n=this;setTimeout(function(){var e=t.getStorageSync("userinfo");if(!e)return n.$store.dispatch("showLogin"),!1;f.height=t.getSystemInfoSync().windowHeight-f.tabBarHeight,f.windowHeight=t.getSystemInfoSync().windowHeight,n.loadData()},300),"2"==n.$store.state.app?(f.typelist=n.$t("categoryList_1").typelist,t.setTabBarItem({index:0,text:n.$t("index").tab1}),t.setTabBarItem({index:1,text:n.$t("index").tab2}),t.setTabBarItem({index:2,text:n.$t("index").tab3}),t.setTabBarItem({index:3,text:n.$t("index").tab4})):f.typelist=n.$t("categoryList_0").typelist},methods:{loadData:function(){var e=this,n={page:1,downNum:20},i={type:"app"};e.$ajax.hIndex().then(function(t){if("非法进入"==t)return!1;for(var n=t.gdgg_app,i=0;i<n.length;i++){var a=e.$store.getters.imgShow+"/ggao/"+n[i].pic+"?x-oss-process=style/yuan";n[i].pic=a,n[i].background="#d8262c"}f.banner=n,f.gg=t.gg,f.promotionUrl=t.app_promotion.url,f.swiperLength=n.length}).catch(function(t){return!1}),e.$ajax.hNew(n,i).then(function(n){e.pageData(n,"newList"),t.hideLoading()}),e.$ajax.hBu(n,i).then(function(t){e.pageData(t,"mentList")}),e.$ajax.hSale(n,i).then(function(t){e.pageData(t,"seckillList")}),e.$ajax.hDis(n,i).then(function(t){e.pageData(t,"sellList")}),e.$ajax.hLike().then(function(t){e.pageData(t,"goodsList"),e.loadDATA1=!0}),e.index=f},pageData:function(t,e){var n=this,i=t.list,a=[],o=6;if(i.length<6&&(o=i.length),"seckillList"==e)for(var c=0;c<o;c++)i[c].image=n.$store.getters.imgShow+"/thumb/"+i[c].item_no+".jpg?x-oss-process=style/300",a.push(i[c]);else for(c=0;c<o;c++)i[c].image=n.$store.getters.imgShow+"/thumb/"+i[c].item_no+".jpg?x-oss-process=style/300",i[c].allNum=parseInt(i[c].spec),i[c].circleHidden=!1,"0"!=i[c].cnum&&(i[c].circleHidden=!0),a.push(i[c]);switch(e){case"newList":f.newList=a||[];break;case"mentList":f.mentList=a||[];break;case"sellList":f.sellList=a||[];break;case"seckillList":f.seckillList=a||[];break;case"goodsList":f.goodsList=a||[]}},swiperChange:function(t){var e=t.detail.current;this.swiperCurrent=e},navToDetailPage:function(e){console.log(i(e," at pages\\index\\index.vue:456")),t.navigateTo({url:"/pages/product/product?productId=".concat(e)})},navDis:function(){t.navigateTo({url:"/pages/product/list?listId=dis"})},navNew:function(){t.navigateTo({url:"/pages/product/list?listId=new"})},navUnsala:function(){t.navigateTo({url:"/pages/product/list?listId=Unsalable"})},navreplenishment:function(){t.navigateTo({url:"/pages/product/list?listId=supplement"})},navsell:function(){t.navigateTo({url:"/pages/product/list?listId=sell"})},timeup:function(e){console.log(i(e," at pages\\index\\index.vue:492")),t.showToast({title:"时间到"})},navDisPage:function(e){t.navigateTo({url:"/pages/product/product?productId=".concat(e.item_no,"&num=").concat(e.discount)})},navSrckil:function(){var e="http://172.21.8.129:8080/#/index";t.navigateTo({url:"/pages/webview/webview?url=".concat(e,"&id=miaosha")})},navType:function(e){t.navigateTo({url:"/pages/product/list?listId=".concat(e)})},bindChange:function(t){this.goodsList[t.index].allNum=t.number},shopping:function(t){var e=this,n=t;e.$ajax.addShop(t).then(function(t){"success"==t.result?(e.$api.msg(e.$t("index").msg1),n.circleHidden=!0,n.cnum=parseInt(n.cnum)+parseInt(n.allNum)):e.$api.msg(t.msg)})},navSearch:function(){t.navigateTo({url:"/pages/search/search"})},onScan:function(){t.scanCode({success:function(e){t.navigateTo({url:"/pages/product/product?productId=".concat(e.result)})}})},loadDis:function(){o.default.post("/index.php/Home/Coupon/addconpon","",function(t){})},navwebview:function(e){t.navigateTo({url:"/pages/webview/webview?url=".concat(e)})},bindcarouse:function(e){console.log(i(e," at pages\\index\\index.vue:565")),e.app_act=e.app_act.split("|"),"Promotion"==e.app_act[0]&&t.navigateTo({url:"/pages/product/list?listId=".concat(e.app_act[1])}),"Article"==e.app_act[0]&&t.navigateTo({url:"/pages/Article/Article?id=".concat(e.app_act[1])}),"Category"==e.app_act[0]&&t.navigateTo({url:"/pages/product/list?listId=".concat(e.app_act[1])}),"Goods"==e.app_act[0]&&t.navigateTo({url:"/pages/product/product?productId=".concat(e.app_act[1])}),"WEB"==e.app_act[0]&&t.navigateTo({url:"/pages/webview/webview?url=".concat(e.link,"&id=").concat(e.app_act[1])})},bindActivity:function(e){"1"==e.sort?t.navigateTo({url:"/pages/webview/webview?url=".concat(e.contents,"&id=miaosha")}):t.navigateTo({url:"/pages/Article/Article?id=".concat(e.id)})},onBackPress:function(){var e=plus.android.runtimeMainActivity();plus.android.runtimeMainActivity(),plus.runtime.quit=function(){e.moveTaskToBack(!1)},t.closeSocket(),t.onSocketClose(function(t){console.log(i("WebSocket 已关闭！"," at pages\\index\\index.vue:626"))}),plus.nativeUI.toast=function(n){if("再按一次退出应用"==n)return e.moveTaskToBack(!1),!1;t.showToast({title:"再按一次退出应用",icon:"none"})}}},onNavigationBarSearchInputClicked:function(){var e=r(a.default.mark(function e(n){return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.navigateTo({url:"/pages/search/search"});case 1:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),onNavigationBarButtonTap:function(e){var n=e.index;if(0===n)t.scanCode({success:function(e){console.log(i("条码类型："+e.scanType," at pages\\index\\index.vue:658")),console.log(i("条码内容："+e.result," at pages\\index\\index.vue:659")),t.navigateTo({url:"/pages/product/product?productId=".concat(e.result)})}});else if(1===n){var a=getCurrentPages(),o=a[a.length-1],c=o.$getAppWebview();c.hideTitleNViewButtonRedDot({index:n}),t.navigateTo({url:"/pages/notice/notice"})}}};e.default=v}).call(this,n("6e42")["default"],n("0de9")["default"])},dbf0:function(t,e,n){"use strict";n.r(e);var i=n("8c34"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=a.a},ffe9:function(t,e,n){"use strict";var i=n("7879"),a=n.n(i);a.a}},[["110b","common/runtime","common/vendor"]]]);