(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repertory/repertory"],{"1d4e":function(e,t,r){"use strict";(function(e){r("d471"),r("921b");a(r("66fd"));var t=a(r("e473"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("6e42")["createPage"])},"20c0":function(e,t,r){"use strict";r.r(t);var a=r("f2a3"),n=r.n(a);for(var o in a)"default"!==o&&function(e){r.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},"2a85":function(e,t,r){"use strict";var a=r("c3a2"),n=r.n(a);n.a},c3a2:function(e,t,r){},e473:function(e,t,r){"use strict";r.r(t);var a=r("f489"),n=r("20c0");for(var o in n)"default"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);r("2a85");var i=r("2877"),s=Object(i["a"])(n["default"],a["a"],a["b"],!1,null,null,null);t["default"]=s.exports},f2a3:function(e,t,r){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("3d3b")),o=i(r("752b"));function i(e){return e&&e.__esModule?e:{default:e}}var s,u=function(){return r.e("components/uni-nav-bar/uni-nav-bar").then(r.bind(null,"85b0"))},c=function(){return r.e("components/over").then(r.bind(null,"35b2"))},d=function(){return r.e("components/img-lazy/img-lazy").then(r.bind(null,"b066"))},p=null,l={repList:[],number:"",statusCode:"",p_num:"",isShow:!1,list:"",hide:!1,name:"",current:-1,over:!1,cWidth:"",cHeight:"",pixelRatio:1,qiunHdid:!1,textarea:"",info:{name:"",num:"",time:""},numList:[]},m={components:{uniNavBar:u,imglazy:d,over:c},data:function(){return{mvc:{repList:[],number:"",statusCode:"",p_num:"",isShow:!1,list:"",hide:!1,name:"",current:-1,over:!1,cWidth:"",cHeight:"",pixelRatio:1,qiunHdid:!1,textarea:"",info:{name:"",num:"",time:""},numList:[]},imglazyStyle:"border-radius: 10upx;"}},onLoad:function(){var t=this;setTimeout(function(){l=t.mvc,n.default.pageTitle(t.$t("repertory").title),s=t,l.cWidth=e.upx2px(750),l.cHeight=e.upx2px(500);var r=e.getStorageSync("userinfo");l.number=r.hdid,t.mvc=l},300)},computed:{i18n:function(){return this.$t("repertory")}},methods:{radioChange:function(e){for(var t=this,r=0;r<t.$t("repertory").items.length;r++)if(t.$t("repertory").items[r].value===e.target.value){"a"==e.target.value&&(l.name="",l.repList=[],l.qiunHdid=!1,l.over=!1,l.hide=!1),"b"==e.target.value&&(l.p_num="",l.repList=[],l.qiunHdid=!1,l.over=!1,l.hide=!1),l.current=r;break}t.mvc=l},back:function(){e.navigateBack({delta:1})},navToDetailPage:function(t){console.log(a(t," at pages\\repertory\\repertory.vue:245")),e.navigateTo({url:"/pages/product/product?productId=".concat(t)})},onScan:function(){var t=this;e.scanCode({success:function(e){console.log(a("条码类型："+e.scanType," at pages\\repertory\\repertory.vue:256")),console.log(a("条码内容："+e.result," at pages\\repertory\\repertory.vue:257")),l.p_num=e.result,t.loadPost()}})},onKeyInput:function(e){var t=e.currentTarget.dataset.key;l[t]=e.detail.value},search:function(){var e=this;return-1==l.current?(e.$api.msg(e.$t("repertory").p1),!1):1==l.current&&""==l.p_num?(e.$api.msg(e.$t("repertory").p2),!1):2==l.current&&""==l.name?(e.$api.msg(e.$t("repertory").p3),!1):void e.loadPost()},loadPost:function(){var t=this;l.hide=!1,l.qiunHdid=!1,l.over=!1,n.default.load(this.$t("index").loadmsg);var r={name:l.name},o={p_num:l.p_num};l.repList=[],0!=l.current?t.$ajax.reqView(o,r).then(function(r){if(0!=r.length){var n=r;n.forEach(function(e,r){e.img=t.$store.getters.imgShow+"/thumb/"+e.CODE2+".jpg?x-oss-process=style/300",e.QTY>0?e.all=parseFloat(parseInt(e.RTLPRC)*parseFloat(e.QTY)):e.all=0}),l.statusCode=r.statusCode,l.repList=n,console.log(a(l.repList," at pages\\repertory\\repertory.vue:318")),l.over=!0,l.p_num=""}else l.hide=!0;e.hideLoading()}):this.repCharts(),t.mvc=l},repCharts:function(){var t=this;t.$ajax.reqRank().then(function(r){var a={series:[]};for(var n in l.info=r.zong,r.money){var o="";switch(n){case"01":"家居百货",o={name:t.$t("repertory").category[0],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"02":"健康美容",o={name:t.$t("repertory").category[1],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"03":"饰品系列",o={name:t.$t("repertory").category[2],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"04":"文体礼品",o={name:t.$t("repertory").category[3],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"05":"季节产品",o={name:t.$t("repertory").category[4],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"06":"精品包饰",o={name:t.$t("repertory").category[5],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"07":"儿童玩具",o={name:t.$t("repertory").category[6],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"08":"毛绒公仔",o={name:t.$t("repertory").category[7],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"09":"数码配件",o={name:t.$t("repertory").category[8],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"10":"休闲食品",o={name:t.$t("repertory").category[9],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o);break;case"14":"物料耗材",o={name:t.$t("repertory").category[10],data:r.money[n],qty:r.num[n],show:!0},a.series.push(o)}}t.showPie("canvasPie",a),l.qiunHdid=!0,l.numList=a.series,t.mvc=l,e.hideLoading()})},showPie:function(t,r){p=new o.default({$this:s,canvasId:t,type:"pie",fontSize:11,padding:[15,15,0,15],legend:{show:!0,padding:5,lineHeight:11,margin:0},background:"#FFFFFF",pixelRatio:l.pixelRatio,series:r.series,animation:!0,width:l.cWidth*l.pixelRatio,height:l.cHeight*l.pixelRatio,dataLabel:!0,extra:{pie:{}}}),e.hideLoading()},touchPie:function(e){p.showToolTip(e,{format:function(e){return e.name+":"+e.data+"元"}})},changeData:function(){if(isJSON(l.textarea)){var e=JSON.parse(l.textarea);p.updateData({series:e.series,categories:e.categories})}}}};t.default=m}).call(this,r("6e42")["default"],r("0de9")["default"])},f489:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},n=[];r.d(t,"a",function(){return a}),r.d(t,"b",function(){return n})}},[["1d4e","common/runtime","common/vendor"]]]);