(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/product"],{"0d45":function(e,t,n){"use strict";(function(e){n("d471"),n("921b");i(n("66fd"));var t=i(n("439b"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},1827:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},"439b":function(e,t,n){"use strict";n.r(t);var i=n("1827"),a=n("5ba8");for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);n("a598");var o=n("2877"),u=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);t["default"]=u.exports},"5ba8":function(e,t,n){"use strict";n.r(t);var i=n("6343"),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);t["default"]=a.a},6343:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n("3d3b"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){return n.e("components/share").then(n.bind(null,"a85d"))},u=function(){return n.e("components/uni-number-box").then(n.bind(null,"a528"))},r=function(){return n.e("components/uni-collapse/uni-collapse").then(n.bind(null,"b10a"))},l=function(){return n.e("components/uni-collapse-item/uni-collapse-item").then(n.bind(null,"48bd"))},c=function(){return n.e("components/img-lazy/img-lazy").then(n.bind(null,"b066"))},d={title:"",discountPrice:"",base_price:"",sale_price:"",specSelected:[],coding:"",specification:"",material:"",features:"",usage:"",notes:"",size:"",weight:"",specClass:"none",dataLength:{material:"",features:"",usage:"",notes:""},org_price:0,goodsList:[],allNum:0,specChildList:[],productId:"",favorite:!1,default:!0},f={components:{share:o,uniNumberBox:u,uniCollapse:r,uniCollapseItem:l,imglazy:c},data:function(){return{backImages:"",typeList:[],index:{title:"",discountPrice:"",base_price:"",sale_price:"",specSelected:[],coding:"",specification:"",material:"",features:"",usage:"",notes:"",size:"",weight:"",specClass:"none",dataLength:{material:"",features:"",usage:"",notes:""},org_price:0,goodsList:[],allNum:0,specChildList:[],productId:"",favorite:!1,default:!0}}},onShow:function(){a.default.pageTitle(this.$t("details").title)},computed:{i18n:function(){return this.$t("details")}},onLoad:function(e){var t=this;d=this.index,a.default.load(this.$t("index").loadmsg),d.productId=e.productId,e.num&&(d.discountPrice=e.num),setTimeout(function(){t.postlist(e.productId)},300)},methods:{imageError:function(e){},postlist:function(t){var n=this;if(1==d.specChildList.length)return!1;n.$ajax.product(t).then(function(t){if(null==t.info.lwh&&(t.info.lwh=n.$t("details").empty),null==t.info.weight&&(t.info.weight=n.$t("details").empty),0==t.info.heart&&(d.favorite=!1),1==t.info.heart&&(d.favorite=!0),e.hideLoading(),d.banner=n.$store.getters.imgShow+"/thumb/"+t.info.item_no+".jpg?x-oss-process=style/800",d.base_price=t.info.base_price,d.sale_price=t.info.sale_price,d.title=t.info.item_name,d.coding=t.info.item_no,d.specification=t.info.spec,d.material=t.info.material,d.size=t.info.lwh,d.weight=t.info.weight,d.backImages=n.$store.getters.imgShow+"/detail/"+t.info.item_no+"-.jpg?x-oss-process=style/800",d.allNum=parseInt(t.info.spec),d.features=t.info.features,d.usage=t.info.usage,d.notes=t.info.notes,d.org_price=t.info.org_price,"0"==t.list.length&&(t.list=[{attr1:n.$t("cart").Default}],n.$set(t.list[0],"selected",!0),d.specSelected.push(t.list[0])),d.default){var i=!0,s=!1,o=void 0;try{for(var u,r=t.list[Symbol.iterator]();!(i=(u=r.next()).done);i=!0){var l=u.value;if(l.attr1==t.info.attr1){n.$set(l,"selected",!0),d.specSelected.push(l);break}}}catch(f){s=!0,o=f}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}d.specChildList=t.list}var c=t.relation;c.forEach(function(e,t){e.image=n.$store.getters.imgShow+"/thumb/"+e.item_no+".jpg?x-oss-process=style/800"}),d.goodsList=c,null!=t.info.material?d.dataLength.material=a.default.strlen(t.info.material):d.dataLength.material=0,null!=t.info.features?d.dataLength.features=a.default.strlen(t.info.features):d.dataLength.features=0,null!=t.info.usage?d.dataLength.usage=a.default.strlen(t.info.usage):d.dataLength.usage=0,null!=t.info.notes?d.dataLength.notes=a.default.strlen(t.info.notes):d.dataLength.notes=0,n.index=d})},toggleSpec:function(){"show"===d.specClass?(d.specClass="hide",setTimeout(function(){d.specClass="none"},250)):"none"===d.specClass&&(d.specClass="show"),this.index.specClass=d.specClass},selectSpec:function(e,t){var n=this;d.default=!1,this.postlist(t);var i=d.specChildList;i.forEach(function(e){n.$set(e,"selected",!1)}),this.$set(i[e],"selected",!0),d.specSelected=[],i.forEach(function(e){!0===e.selected&&d.specSelected.push(e)}),this.index=d},toFavorite:function(e){var t=this,n={sn:e};d.favorite=!d.favorite,console.log(i(t.favorite," at pages\\product\\product.vue:442")),d.favorite?t.addCartItem(n):t.deleteCartItem(n),this.index=d},addCartItem:function(e){var t=this;t.$ajax.addLike(e).then(function(e){t.$api.msg(t.$t("index").msg4)})},deleteLike:function(e){var t=this;t.$ajax.addLike(e).then(function(e){t.$api.msg(t.$t("index").msg4)})},bindChange:function(e){d.allCount=e.number},navToDetailPage:function(t){console.log(i(t," at pages\\product\\product.vue:471")),e.navigateTo({url:"/pages/product/product?productId=".concat(t)})},shopping:function(){var e=this,t={item_no:d.coding,allNum:d.allCount};e.$ajax.addShop(t).then(function(t){"success"==t.result?e.$api.msg(e.$t("index").msg1):e.$api.msg(t.msg)})},stopPrevent:function(){},back:function(){e.navigateBack({delta:1})},previewImage:function(t){var n=[];n.push(t),e.previewImage({current:t,urls:n})}}};t.default=f}).call(this,n("6e42")["default"],n("0de9")["default"])},a598:function(e,t,n){"use strict";var i=n("cfea"),a=n.n(i);a.a},cfea:function(e,t,n){}},[["0d45","common/runtime","common/vendor"]]]);