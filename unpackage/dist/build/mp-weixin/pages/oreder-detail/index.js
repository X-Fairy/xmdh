(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/oreder-detail/index"],{"0ff9":function(t,e,n){"use strict";n.r(e);var i=n("630d"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"4c26":function(t,e,n){"use strict";n.r(e);var i=n("c998"),o=n("0ff9");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("9bf4");var s,r=n("f0c5"),u=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=u.exports},"55b3":function(t,e,n){"use strict";(function(t){n("3f5c"),n("921b");i(n("66fd"));var e=i(n("4c26"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"630d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("0421"));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){n.e("components/over").then(function(){return resolve(n("7aed"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/img-lazy/img-lazy").then(function(){return resolve(n("f796"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/uni-number-box").then(function(){return resolve(n("ee3a"))}.bind(null,n)).catch(n.oe)},u={detailList:[{item_name:"",item_en:"",item_no:"",valid_price:"",real_qty:"",sub_amt:""}],orderInfo:{sheet_no:0,sheet_amt:0,yhh_amt:0},sn:"",over:!1},c={components:{over:a,imglazy:s,uniNumberBox:r},data:function(){return{imglazyStyle:"border-radius: 10upx;",mvc:{detailList:[{item_name:"",item_en:"",item_no:"",valid_price:"",real_qty:"",sub_amt:""}],orderInfo:{sheet_no:0,sheet_amt:0,yhh_amt:0},sn:"",over:!1},giveList:[],getStatus:!1,num:0,total:0}},onLoad:function(t){var e=this;setTimeout((function(){i.default.load(e.$t("index").loadmsg),i.default.pageTitle(e.$t("order_data").title),u.sn=t.sn,e.loadData()}))},computed:{i18n:function(){return this.$t("order_data")}},onShow:function(){},onHide:function(){},onBackPress:function(){},methods:{back:function(){t.navigateBack({delta:1})},loadData:function(){var e=this;u.over=!1;var n={sn:u.sn};e.$ajax.orderHaView(n).then((function(n){for(var i in u.detailList=n.list,u.orderInfo=n.info,u.detailList)u.detailList[i].url=e.$store.getters.imgShow+"/thumb/"+u.detailList[i].item_no+".jpg?x-oss-process=style/300";u.over=!0,t.hideLoading(),e.mvc=u}))},goods:function(){var t=this,e={sheet_no:u.sn};this.$ajax.orders(e).then((function(e){if(e.free){var n=e.free.list;for(var i in n)n[i].url=t.$store.getters.imgShow+"/thumb/"+n[i].item_no+".jpg?x-oss-process=style/300",n[i].checked=!1,n[i].allNum=1,n[i].num=1;t.giveList=n,t.total=e.free.money}}))},navToDetailPage:function(e){t.navigateTo({url:"/pages/product/product?productId=".concat(e)})},scroll:function(t){console.log(t)},bindRadio:function(e){var n=this;this.giveList[e].checked=!this.giveList[e].checked;var i=this.giveList;this.num=0,i.forEach((function(t){t.checked&&(console.log(t),n.num=n.num+Number(t.sale_price)*Number(t.num))})),this.giveList=i,this.num>this.total&&t.showToast({title:"仅限领取"+this.total+"元内",icon:"none"})},getOrder:function(){if(this.num>this.total)return t.showToast({title:"仅限领取"+this.total+"元内",icon:"none"}),!1;var e=this.giveList,n={parent_sheet:u.sn,items:[],qtys:[]};e.forEach((function(t){t.checked&&(n.items.push(t.item_no),n.qtys.push(t.num))})),this.$ajax.create_free_order(n).then((function(e){"success"==e.data.res?t.showToast({title:"领取成功",icon:"none"}):t.showToast({title:"重复领取失败",icon:"none"})}))},bindChange:function(e){var n=this;this.giveList[e.index].num=e.number;var i=this.giveList;this.num=0,i.forEach((function(t){t.checked&&(n.num=n.num+Number(t.sale_price)*Number(t.num))})),this.num>this.total&&t.showToast({title:"仅限领取"+this.total+"元内",icon:"none"})}}};e.default=c}).call(this,n("543d")["default"])},"9bf4":function(t,e,n){"use strict";var i=n("bbf3"),o=n.n(i);o.a},bbf3:function(t,e,n){},c998:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))}},[["55b3","common/runtime","common/vendor"]]]);