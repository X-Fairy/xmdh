(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/repertory/repertory"],{6228:function(e,t,n){"use strict";n.r(t);var a=n("d974"),r=n("7f67");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("faaa");var i,s=n("f0c5"),u=Object(s["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);t["default"]=u.exports},"7f67":function(e,t,n){"use strict";n.r(t);var a=n("fd01"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},d66f:function(e,t,n){},d974:function(e,t,n){"use strict";var a,r=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},e609:function(e,t,n){"use strict";(function(e){n("3f5c"),n("921b");a(n("66fd"));var t=a(n("6228"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},faaa:function(e,t,n){"use strict";var a=n("d66f"),r=n.n(a);r.a},fd01:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("0421")),r=o(n("49fd"));function o(e){return e&&e.__esModule?e:{default:e}}var i,s=function(){n.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(n("d4f9"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/over").then(function(){return resolve(n("7aed"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/img-lazy/img-lazy").then(function(){return resolve(n("f796"))}.bind(null,n)).catch(n.oe)},d=null,l={repList:[],number:"",statusCode:"",p_num:"",isShow:!1,list:"",hide:!1,name:"",current:-1,over:!1,cWidth:"",cHeight:"",pixelRatio:1,qiunHdid:!1,textarea:"",info:{name:"",num:"",time:""},numList:[]},p={components:{uniNavBar:s,imglazy:c,over:u},data:function(){return{mvc:{repList:[],number:"",statusCode:"",p_num:"",isShow:!1,list:"",hide:!1,name:"",current:-1,over:!1,cWidth:"",cHeight:"",pixelRatio:1,qiunHdid:!1,textarea:"",info:{name:"",num:"",time:""},numList:[]},imglazyStyle:"border-radius: 10upx;"}},onLoad:function(){var t=this;setTimeout((function(){l=t.mvc,a.default.pageTitle(t.$t("repertory").title),i=t,l.cWidth=e.upx2px(750),l.cHeight=e.upx2px(500);var n=e.getStorageSync("userinfo");l.number=n.hdid,t.mvc=l}),300)},computed:{i18n:function(){return this.$t("repertory")}},methods:{radioChange:function(e){for(var t=this,n=0;n<t.$t("repertory").items.length;n++)if(t.$t("repertory").items[n].value===e.target.value){"a"==e.target.value&&(l.name="",l.repList=[],l.qiunHdid=!1,l.over=!1,l.hide=!1),"b"==e.target.value&&(l.p_num="",l.repList=[],l.qiunHdid=!1,l.over=!1,l.hide=!1),l.current=n;break}t.mvc=l},back:function(){e.navigateBack({delta:1})},navToDetailPage:function(t){console.log(t),e.navigateTo({url:"/pages/product/product?productId=".concat(t)})},onScan:function(){var t=this;e.scanCode({success:function(e){console.log("条码类型："+e.scanType),console.log("条码内容："+e.result),l.p_num=e.result,t.loadPost()}})},onKeyInput:function(e){var t=e.currentTarget.dataset.key;l[t]=e.detail.value},search:function(){var e=this;return-1==l.current?(e.$api.msg(e.$t("repertory").p1),!1):1==l.current&&""==l.p_num?(e.$api.msg(e.$t("repertory").p2),!1):2==l.current&&""==l.name?(e.$api.msg(e.$t("repertory").p3),!1):void e.loadPost()},loadPost:function(){var t=this;l.hide=!1,l.qiunHdid=!1,l.over=!1,a.default.load(this.$t("index").loadmsg);var n={name:l.name},r={p_num:l.p_num};l.repList=[],0!=l.current?t.$ajax.reqView(r,n).then((function(n){if(0!=n.length){var a=n;a.forEach((function(e,n){e.img=t.$store.getters.imgShow+"/thumb/"+e.CODE2+".jpg?x-oss-process=style/300",e.QTY>0?e.all=parseFloat(parseInt(e.RTLPRC)*parseFloat(e.QTY)):e.all=0})),l.statusCode=n.statusCode,l.repList=a,console.log(l.repList),l.over=!0,l.p_num=""}else l.hide=!0;e.hideLoading()})):this.repCharts(),t.mvc=l},repCharts:function(){var t=this;t.$ajax.reqRank().then((function(n){var a={series:[]};for(var r in l.info=n.zong,n.money){var o="";switch(r){case"01":"家居百货",o={name:t.$t("repertory").category[0],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"02":"健康美容",o={name:t.$t("repertory").category[1],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"03":"饰品系列",o={name:t.$t("repertory").category[2],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"04":"文体礼品",o={name:t.$t("repertory").category[3],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"05":"季节产品",o={name:t.$t("repertory").category[4],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"06":"精品包饰",o={name:t.$t("repertory").category[5],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"07":"儿童玩具",o={name:t.$t("repertory").category[6],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"08":"毛绒公仔",o={name:t.$t("repertory").category[7],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"09":"数码配件",o={name:t.$t("repertory").category[8],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"10":"休闲食品",o={name:t.$t("repertory").category[9],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o);break;case"14":"物料耗材",o={name:t.$t("repertory").category[10],data:n.money[r],qty:n.num[r],show:!0},a.series.push(o)}}t.showPie("canvasPie",a),l.qiunHdid=!0,l.numList=a.series,t.mvc=l,e.hideLoading()}))},showPie:function(t,n){d=new r.default({$this:i,canvasId:t,type:"pie",fontSize:11,padding:[15,15,0,15],legend:{show:!0,padding:5,lineHeight:11,margin:0},background:"#FFFFFF",pixelRatio:l.pixelRatio,series:n.series,animation:!0,width:l.cWidth*l.pixelRatio,height:l.cHeight*l.pixelRatio,dataLabel:!0,extra:{pie:{}}}),e.hideLoading()},touchPie:function(e){d.showToolTip(e,{format:function(e){return e.name+":"+e.data+"元"}})},changeData:function(){if(isJSON(l.textarea)){var e=JSON.parse(l.textarea);d.updateData({series:e.series,categories:e.categories})}}}};t.default=p}).call(this,n("543d")["default"])}},[["e609","common/runtime","common/vendor"]]]);