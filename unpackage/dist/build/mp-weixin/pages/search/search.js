(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"1be0":function(t,e,n){"use strict";var o=n("c9ca"),i=n.n(o);i.a},"1e72":function(t,e,n){"use strict";n.r(e);var o=n("8298"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},4043:function(t,e,n){"use strict";n.r(e);var o=n("7e30"),i=n("1e72");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("1be0");var r,s=n("f0c5"),l=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=l.exports},"7e30":function(t,e,n){"use strict";var o={"uni-load-more":function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"5c08"))}},i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},8298:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("0421"));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){n.e("components/uni-number-box").then(function(){return resolve(n("ee3a"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("5c08"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/uni-scrollTo/uni-scrollTo").then(function(){return resolve(n("37c0"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/img-lazy/img-lazy").then(function(){return resolve(n("f796"))}.bind(null,n)).catch(n.oe)},c={statusHeight:0,historyList:[],isHistory:!0,text:"",thispage:0,Allpage:0,all:0,sort:!1,recList_a:[],recList_b:[],page:1,loadingType:"more",type:"add",filterIndex:0,priceOrder:0,downNum:"",getTop:0,getTop2:0,appwidth:"100%",scrllHdid:!1,over:!1,satus_a:!1,satus_b:!1},u={components:{uniNumberBox:a,uniLoadMore:r,scrllTop:s,imglazy:l},data:function(){return{imglazyStyle:"border-radius: 10upx;",list:{statusHeight:0,historyList:[],isHistory:!0,text:"",thispage:0,Allpage:0,all:0,sort:!1,recList_a:[],recList_b:[],page:1,loadingType:"more",type:"add",filterIndex:0,priceOrder:0,downNum:"",getTop:0,getTop2:0,appwidth:"100%",scrllHdid:!1,over:!1,satus_a:!1,satus_b:!1}}},onLoad:function(){var t=this;setTimeout((function(){c=t.list,t.getTitleHeight(),t.seachData()}),300)},computed:{i18n:function(){return this.$t("search")}},methods:{bindnav:function(e){switch(e){case 0:t.navigateTo({url:"/pages/product/list?listId=new"});break;case 1:t.navigateTo({url:"/pages/product/list?listId=China"})}},seachData:function(){c.satus_a=!0,c.recList_a=this.$t("search").recList_a,this.list=c},getTitleHeight:function(){var e=this;t.getSystemInfo({success:function(t){return console.log(t.screenHeight),t.screenHeight<740?(c.statusHeight="90px",c.getTop="32px",1==c.sort?c.getTop2="120px":c.getTop2="70px",e.list=c,!1):t.screenHeight<950?(c.statusHeight="95px",c.getTop="40px",1==c.sort?c.getTop2="130px":c.getTop2="80px",e.list=c,!1):t.screenHeight>1e3?(c.statusHeight="140px",c.getTop="30px",1==c.sort?c.getTop2="220px":c.getTop2="160px",e.list=c,!1):void 0}})},inputChange:function(t){var e=t.currentTarget.dataset.key;c[e]=t.detail.value},postData:function(){var t=this;if(""==c.text)return c.isHistory=!0,c.over=!0,t.list=c,this.$api.msg(t.$t("search").pl),!1;c.page=1,c.over=!1,c.historyList=[],o.default.load(this.$t("index").loadmsg),this.loadData()},bindSea:function(t){c.text=t,o.default.load(this.$t("index").loadmsg),this.loadData()},onPullDownRefresh:function(){""!=c.text?(c.page=1,c.type="refresh",this.loadData()):t.stopPullDownRefresh()},onReachBottom:function(){c.type="add",this.loadData()},bindconfirm:function(){this.postData()},loadData:function(e){var n=this;c.over=!1;var o={text:c.text,page:c.page,downNum:c.downNum};n.$ajax.searchData(o).then((function(e){console.log(e);var o=e.list;if(null==e.list||0==e.other.totalPage)return c.loadingType="nomore",c.isHistory=!1,c.over=!0,c.thispage=0,c.Allpage=0,n.list=c,t.hideLoading(),!1;0==e.list&&0==e.other.totalPage&&(c.loadingType="nomore",c.historyList=[],c.isHistory=!1,n.over=!0);var i=[];for(var a in c.Allpage=e.other.totalPage,c.thispage=e.other.thispage,c.all=e.other.all,c.sort=!0,c.scrllHdid=!0,n.getTitleHeight(),o)o[a].image=n.$store.getters.imgShow+"/thumb/"+o[a].item_no+".jpg?x-oss-process=style/204",o[a].allNum=parseInt(o[a].spec),o[a].mini=parseInt(o[a].spec),o[a].circleHidden=!1,o[a].circleText=0,"0"!=o[a].cnum&&(o[a].circleHidden=!0),i.push(o[a]);if(c.isHistory=!1,c.loadingType=parseInt(e.other.thispage)>e.other.totalPage?"nomore":"more","add"==c.type){if(c.page=c.page+1,"nomore"===c.loadingType)return void(n.list=c);c.loadingType="loading"}else c.loadingType="more";if("refresh"==c.type){if(c.historyList=[],t.stopPullDownRefresh(),c.page=c.page+1,"nomore"===c.loadingType)return void(n.list=c);c.loadingType="loading"}if(i.length<20)return c.loadingType="nomore",t.hideLoading(),c.historyList=c.historyList.concat(i),!1;t.hideLoading(),c.historyList=c.historyList.concat(i),n.list=c}))},bindChange:function(t){c.historyList[t.index].allNum=t.number,this.list=c},shopping:function(t){var e=this,n={item_no:t.item_no,allNum:t.allNum};e.$ajax.addShop(n).then((function(n){"success"==n.result?(e.$api.msg(e.$t("index").msg1),t.circleHidden=!0,t.cnum=parseInt(t.cnum)+parseInt(t.allNum)):e.$api.msg(n.msg)}))},goback:function(){t.navigateBack({delta:1})},navToDetailPage:function(e){t.navigateTo({url:"/pages/product/product?productId=".concat(e)})},onScan:function(){t.scanCode({success:function(e){console.log("条码类型："+e.scanType),console.log("条码内容："+e.result),t.navigateTo({url:"/pages/product/product?productId=".concat(e.result)})}})},tabClick:function(e){c.filterIndex=e,c.page=1,c.type="refresh",2===e?(c.priceOrder=1===c.priceOrder?2:1,1==c.priceOrder&&(c.downNum="desc"),2==c.priceOrder&&(c.downNum="asc"),this.loadData()):(c.priceOrder=0,c.downNum="",this.loadData()),t.pageScrollTo({duration:300,scrollTop:0}),o.default.load(this.$t("index").loadmsg)}},onNavigationBarSearchInputChanged:function(t){c.text=t.text}};e.default=u}).call(this,n("543d")["default"])},a3f4:function(t,e,n){"use strict";(function(t){n("3f5c"),n("921b");o(n("66fd"));var e=o(n("4043"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},c9ca:function(t,e,n){}},[["a3f4","common/runtime","common/vendor"]]]);