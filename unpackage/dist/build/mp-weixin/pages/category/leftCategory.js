(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/leftCategory"],{1972:function(t,e,i){"use strict";i.r(e);var n=i("e933"),o=i("ff63");for(var c in o)"default"!==c&&function(t){i.d(e,t,(function(){return o[t]}))}(c);i("b8bf");var a,r=i("f0c5"),l=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);e["default"]=l.exports},5643:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=c(i("7eaf")),o=c(i("0421"));function c(t){return t&&t.__esModule?t:{default:t}}var a=function(){i.e("components/img-lazy/img-lazy").then(function(){return resolve(i("f796"))}.bind(null,i)).catch(i.oe)},r={height:0,categoryActive:0,scrollTop:0,scrollLeftTop:0,scrollHeight:0,classifyData:[],arr:[0,384,1168,1752,2336,2805,3274,3858,4442,4911,5380,5734,6203,6672,7017],leftItemHeight:51,navLeftHeight:0,diff:0,tabBarHeight:0,text:"",placeholderSrc:"../../../static/60x60.png",statusHeight:0,gdgg:"",rightHide:!1},l={components:{imglazy:a},data:function(){return{mvc:{height:0,categoryActive:0,scrollTop:0,scrollLeftTop:0,scrollHeight:0,classifyData:[],arr:[0,384,1168,1752,2336,2805,3274,3858,4442,4911,5380,5734,6203,6672,7017],leftItemHeight:51,navLeftHeight:0,diff:0,tabBarHeight:0,text:"",statusHeight:0,rightHide:!1}}},onLoad:function(){var e=this;setTimeout((function(){var i=t.getStorageSync("userinfo");if(!i)return e.$store.dispatch("showLogin"),!1;o.default.pageTitle(e.$t("list").title),r.height=t.getSystemInfoSync().windowHeight-r.tabBarHeight,r.windowHeight=t.getSystemInfoSync().windowHeight,e.getTitleHeight(),e.loadData()}))},methods:{loadData:function(){o.default.load(this.$t("index").loadmsg);var e=this;e.$ajax.categories_app().then((function(t){console.log(t),t.forEach((function(t,e){14==t.cls_id&&(t.child=[{cls_id:"14",cls_name:"物料耗材",lazy:[{src:"0"},{src:"0"},{src:"0"}],index:"14"}])})),r.classifyData=t,e.$nextTick((function(){e.getHeightList()})),r.rightHide=!0,e.mvc=r})),t.hideLoading(),this.scroll()},getTitleHeight:function(){var e=this;t.getSystemInfo({success:function(t){return t.screenHeight<750?(r.statusHeight="80px",e.mvc=r,!1):t.screenHeight<950?(r.statusHeight="95px",e.mvc=r,!1):t.screenHeight>1e3?(r.statusHeight="140px",e.mvc=r,!1):void 0}})},getHeightList:function(){var e=t.createSelectorQuery();e.selectAll(".nav-left-item").boundingClientRect((function(t){r.leftItemHeight=t[0].height,r.navLeftHeight=r.leftItemHeight*n.default.length,r.diff=r.navLeftHeight-r.height})),e.selectAll(".box").boundingClientRect((function(t){var e=[0],i=0;t.forEach((function(t){i+=t.height,e.push(i)})),console.log(r.arr),r.arr=e})).exec()},scroll:function(t){this.scrillType(t)},scrillType:function(t){this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((function(){void 0!=t&&(r.scrollHeight=t.detail.scrollTop);for(var e=0;e<r.arr.length;e++){var i=r.arr[e],o=r.arr[e+1];if(!o||r.scrollHeight>=i&&r.scrollHeight<o)return r.categoryActive=e,r.diff>0&&(r.scrollLeftTop=Math.round(r.categoryActive*r.diff/(n.default.length-1))),!1}r.categoryActive=0,r.timeoutId=void 0}),10),this.mvc=r},categoryClickMain:function(t){r.categoryActive=t,r.scrollTop=r.arr[t]},cart:function(e){t.navigateTo({url:"/pages/product/list?listId=".concat(e)})},navSearch:function(){t.navigateTo({url:"/pages/search/search"})},onScan:function(){t.scanCode({success:function(e){console.log("条码类型："+e.scanType),console.log("条码内容："+e.result),t.navigateTo({url:"/pages/product/product?productId=".concat(e.result)})}})},categoryError:function(t){}},onBackPress:function(){var e=plus.android.runtimeMainActivity();plus.android.runtimeMainActivity(),plus.runtime.quit=function(){e.moveTaskToBack(!1)},t.closeSocket(),t.onSocketClose((function(t){console.log("WebSocket 已关闭！")})),plus.nativeUI.toast=function(i){if("再按一次退出应用"==i)return e.moveTaskToBack(!1),!1;t.showToast({title:"再按一次退出应用",icon:"none"})}}};e.default=l}).call(this,i("543d")["default"])},"976c":function(t,e,i){"use strict";(function(t){i("3f5c"),i("921b");n(i("66fd"));var e=n(i("1972"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},ad29:function(t,e,i){},b8bf:function(t,e,i){"use strict";var n=i("ad29"),o=i.n(n);o.a},e933:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement;t._self._c},c=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return n}))},ff63:function(t,e,i){"use strict";i.r(e);var n=i("5643"),o=i.n(n);for(var c in n)"default"!==c&&function(t){i.d(e,t,(function(){return n[t]}))}(c);e["default"]=o.a}},[["976c","common/runtime","common/vendor"]]]);