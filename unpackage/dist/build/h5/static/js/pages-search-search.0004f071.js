(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"241b":function(t,e,i){"use strict";i.r(e);var a=i("bb94"),n=i("c511");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("83bc");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"53a1ac62",null);e["default"]=r.exports},"26bf":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("e814"));i("55dd");var s=a(i("3d3b")),o=a(i("a528")),r=a(i("926e")),c=a(i("06e7")),l={components:{uniNumberBox:o.default,uniLoadMore:r.default,scrllTop:c.default},data:function(){return{statusHeight:0,historyList:[],isHistory:!0,text:"",thispage:0,Allpage:0,all:0,sort:!1,recList_a:[],recList_b:[],page:1,loadingType:"more",type:"add",filterIndex:0,priceOrder:0,downNum:"",getTop:0,getTop2:0,appwidth:"100%",scrllHdid:!1,over:!1,satus_a:!1,satus_b:!1}},onLoad:function(){this.getTitleHeight(),this.seachData()},computed:{i18n:function(){return this.$t("search")}},methods:{bindnav:function(t){switch(t){case 0:uni.navigateTo({url:"/pages/product/list?listId=new"});break;case 1:uni.navigateTo({url:"/pages/product/list?listId=China"})}},seachData:function(){this.satus_b=!0,this.satus_a=!1,this.recList_b=this.$t("search").recList_b},getTitleHeight:function(){var t=this;uni.getSystemInfo({success:function(e){return console.log(e.screenHeight),e.screenHeight<740?(t.statusHeight="90px",t.getTop="32px",1==t.sort?t.getTop2="120px":t.getTop2="70px",!1):e.screenHeight<950?(t.statusHeight="95px",t.getTop="40px",1==t.sort?t.getTop2="130px":t.getTop2="80px",!1):e.screenHeight>1e3?(t.statusHeight="140px",t.getTop="30px",1==t.sort?t.getTop2="220px":t.getTop2="160px",!1):void 0}})},imageError:function(t){this.historyList[t].image="http://dh.xmcpcn.com/Public/images/none.jpg"},inputChange:function(t){var e=t.currentTarget.dataset.key;this[e]=t.detail.value},postData:function(){var t=this;if(""==this.text)return this.isHistory=!0,this.over=!0,this.$api.msg(t.$t("search").pl),!1;this.page=1,this.over=!1,this.historyList=[],s.default.load(this.$t("index").loadmsg),this.loadData()},bindSea:function(t){this.text=t,s.default.load(this.$t("index").loadmsg),this.loadData()},onPageScroll:function(t){t.scrollTop>=0?this.headerPosition="fixed":this.headerPosition="absolute"},onPullDownRefresh:function(){""!=this.text?(this.page=1,this.type="refresh",this.loadData()):uni.stopPullDownRefresh()},onReachBottom:function(){this.type="add",this.loadData()},loadData:function(t){var e=this;this.over=!1;var i={type:"app"};s.default.post("/index.php/Home/Category/search?ser_key="+e.text+"&p="+e.page+"&num="+e.downNum,i,function(t){var i=t.data.list;if(null==t.data.list||0==t.data.other.totalPage)return e.loadingType="nomore",e.isHistory=!1,e.over=!0,uni.hideLoading(),!1;0==t.data.list&&0==t.data.other.totalPage&&(e.historyList=[],e.isHistory=!1,e.over=!0);var a=[];for(var s in e.Allpage=t.data.other.totalPage,e.thispage=t.data.other.thispage,e.all=t.data.other.all,e.sort=!0,e.scrllHdid=!0,e.getTitleHeight(),i)i[s].image=e.$store.getters.imgShow+"/thumb/"+i[s].item_no+".jpg?x-oss-process=style/204",i[s].allNum=(0,n.default)(i[s].spec),i[s].circleHidden=!1,i[s].circleText=0,"0"!=i[s].cnum&&(i[s].circleHidden=!0),a.push(i[s]);if(e.isHistory=!1,e.loadingType=(0,n.default)(t.data.other.thispage)>t.data.other.totalPage?"nomore":"more","add"==e.type){if(e.page=e.page+1,"nomore"===e.loadingType)return;e.loadingType="loading"}else e.loadingType="more";if("refresh"==e.type){if(e.historyList=[],uni.stopPullDownRefresh(),e.page=e.page+1,"nomore"===e.loadingType)return;e.loadingType="loading"}if(a.length<20)return e.loadingType="nomore",uni.hideLoading(),e.historyList=e.historyList.concat(a),!1;uni.hideLoading(),e.historyList=e.historyList.concat(a)})},bindChange:function(t){this.historyList[t.index].allNum=t.number},shopping:function(t){var e={max_buy:40},i=this,a=t;console.log(t),s.default.post("/index.php/Home/Cart/addCart?sn="+t.item_no+"&num="+t.allNum,e,function(t){"success"==t.data.result?(i.$api.msg(i.$t("index").msg1),a.circleHidden=!0,a.cnum=(0,n.default)(a.cnum)+(0,n.default)(a.allNum)):i.$api.msg(t.data.msg)})},goback:function(){uni.navigateBack({delta:1})},navToDetailPage:function(t){uni.navigateTo({url:"/pages/product/product?productId=".concat(t)})},onScan:function(){uni.scanCode({success:function(t){console.log("条码类型："+t.scanType),console.log("条码内容："+t.result),uni.navigateTo({url:"/pages/product/product?productId=".concat(t.result)})}})},tabClick:function(t){this.filterIndex=t,this.page=1,this.type="refresh",2===t?(this.priceOrder=1===this.priceOrder?2:1,1==this.priceOrder&&(this.downNum="desc"),2==this.priceOrder&&(this.downNum="asc"),this.loadData()):(this.priceOrder=0,this.downNum="",this.loadData()),uni.pageScrollTo({duration:300,scrollTop:0}),s.default.load(this.$t("index").loadmsg)}},onNavigationBarSearchInputChanged:function(t){this.text=t.text},onNavigationBarSearchInputConfirmed:function(t){this.loadData()},onNavigationBarButtonTap:function(){this.loadData()}};e.default=l},"6e85":function(t,e,i){var a=i("cad5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6d2939c0",a,!0,{sourceMap:!1,shadowMode:!1})},"83bc":function(t,e,i){"use strict";var a=i("6e85"),n=i.n(a);n.a},bb94:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"navback"},[1==t.sort?i("v-uni-view",{staticClass:"navbar"},[i("v-uni-view",{staticClass:"nav-item",class:{current:0===t.filterIndex},on:{click:function(e){e=t.$handleEvent(e),t.tabClick(0)}}},[t._v(t._s(t.i18n.Default))]),i("v-uni-view",{staticClass:"nav-item",class:{current:2===t.filterIndex},on:{click:function(e){e=t.$handleEvent(e),t.tabClick(2)}}},[i("v-uni-text",[t._v(t._s(t.i18n.price))]),i("v-uni-view",{staticClass:"p-box"},[i("v-uni-text",{staticClass:"yticon icon-shang",class:{active:1===t.priceOrder&&2===t.filterIndex}}),i("v-uni-text",{staticClass:"yticon icon-shang xia",class:{active:2===t.priceOrder&&2===t.filterIndex}})],1)],1),i("v-uni-view",{staticClass:"pagination nav-item"},[t._v(t._s(t.thispage)+"/"+t._s(t.Allpage)+t._s(t.i18n.page))])],1):t._e()],1),i("v-uni-view",{staticClass:"content",style:{"padding-top":t.getTop2}},[t.isHistory?i("v-uni-view",{staticClass:"history-box"},[i("v-uni-view",{staticClass:"recommend"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.i18n.recommend)+"：")]),t.satus_a?i("v-uni-view",{staticClass:"center_a"},t._l(t.recList_a,function(e,a){return i("v-uni-view",{key:a,on:{click:function(i){i=t.$handleEvent(i),t.bindSea(e.id)}}},[i("v-uni-text",[t._v(t._s(e.value))])],1)}),1):t._e(),t.satus_b?i("v-uni-view",{staticClass:"center_b"},t._l(t.recList_b,function(e,a){return i("v-uni-view",{key:a,on:{click:function(e){e=t.$handleEvent(e),t.bindnav(a)}}},[i("v-uni-text",[t._v(t._s(e.value))])],1)}),1):t._e()],1)],1):i("v-uni-view",{staticClass:"history-box"},[t.historyList.length>0?i("v-uni-view",{staticClass:"history-list-box"},[i("v-uni-view",{staticStyle:{padding:"0 20upx"}},[t._v(t._s(t.i18n.title)),i("v-uni-text",[t._v('"')]),t._v(t._s(t.text)),i("v-uni-text",[t._v('"')]),t._v(t._s(t.i18n.results))],1),i("v-uni-view",{staticClass:"guess-section"},t._l(t.historyList,function(e,a){return i("v-uni-view",{key:a,staticClass:"guess-item"},[i("v-uni-view",{staticClass:"image-wrapper",on:{click:function(i){i=t.$handleEvent(i),t.navToDetailPage(e.item_no)}}},[i("v-uni-image",{attrs:{src:e.image,mode:"aspectFill"},on:{error:function(e){e=t.$handleEvent(e),t.imageError(a)}}})],1),i("v-uni-view",{staticStyle:{padding:"0 15upx"}},[i("v-uni-text",{staticClass:"title clamp",on:{click:function(i){i=t.$handleEvent(i),t.navToDetailPage(e.item_no)}}},[t._v(t._s(e.item_name))]),i("v-uni-view",{staticClass:"guess-right"},[i("v-uni-view",{staticClass:"price"},[t._v(t._s(t.i18n.p1)+":￥"+t._s(e.price))]),i("v-uni-view",{staticClass:"price"},[t._v(t._s(t.i18n.p2)+":￥"+t._s(e.ling))])],1),i("v-uni-view",{staticClass:"guess-right"},[i("uni-number-box",{staticClass:"step",attrs:{min:e.allNum,value:e.allNum,step:e.allNum,index:a},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)}}}),i("v-uni-image",{staticClass:"cart",attrs:{src:"../../static/cart.png",mode:""},on:{click:function(i){i=t.$handleEvent(i),t.shopping(e)}}})],1),1==e.circleHidden?i("v-uni-view",{staticClass:"circle"},[t._v(t._s(e.cnum))]):t._e()],1)],1)}),1)],1):t._e(),t.over?i("v-uni-view",{staticClass:"no-data"},[t._v(t._s(t.i18n.more))]):t._e()],1)],1),1==t.sort?i("uni-load-more",{attrs:{status:t.loadingType}}):t._e(),1==t.scrllHdid?i("scrllTop"):t._e()],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},c511:function(t,e,i){"use strict";i.r(e);var a=i("26bf"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},cad5:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */.navback[data-v-53a1ac62]{position:fixed;left:0;width:100%;z-index:999;background-color:#fff}.mp-search-box[data-v-53a1ac62]{width:70%;border-bottom:1px solid #fff;padding:%?15?% %?30?% %?15?% %?5?%;background-color:#fff}.mp-search-box .wx-header[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.mp-search-box .wx-header .ser-input[data-v-53a1ac62]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?56?%;line-height:%?56?%;text-align:center;font-size:%?28?%;color:#606266;border-radius:20px;background:#eee}.mp-search-box .wx-header .searchText[data-v-53a1ac62]{color:#333;margin-left:%?10?%;line-height:%?56?%}.mp-search-box .wx-header .icon-goback[data-v-53a1ac62]{line-height:%?56?%;color:#333;font-size:%?36?%;margin-right:%?20?%}.header-back[data-v-53a1ac62]{height:%?180?%}.header-back .bg[data-v-53a1ac62]{width:100%;height:100%}.history-box[data-v-53a1ac62]{position:relative}.history-title[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:%?20?% %?30?%;padding-bottom:0;font-size:%?34?%;color:#333}.history-title .uni-icon[data-v-53a1ac62]{font-size:%?40?%}.history-content[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:%?15?%}.history-item[data-v-53a1ac62]{padding:%?4?% %?35?%;border:1px #f1f1f1 solid;background:#fff;border-radius:%?50?%;margin:%?12?% %?10?%;color:#999}.history-list-item[data-v-53a1ac62]{padding:%?30?% 0;margin-left:%?30?%;border-bottom:1px #eee solid;font-size:%?28?%}.no-data[data-v-53a1ac62]{text-align:center;color:#999;margin:%?100?%}\n/* 猜你喜欢 */.guess-section[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:0 %?20?%;background:#fff}.guess-section .guess-item[data-v-53a1ac62]{-webkit-box-shadow:0 2px 13px rgba(0,0,0,.1);box-shadow:0 2px 13px rgba(0,0,0,.1);margin:%?10?% 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:48%;padding-bottom:%?5?%;position:relative;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.guess-section .guess-item[data-v-53a1ac62]:nth-child(odd){margin-right:4%}.guess-section .guess-item .guess-right[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:%?20?%}.guess-section .guess-item .guess-right .uni-numbox[data-v-f73045be][data-v-53a1ac62]{position:relative}.guess-section .guess-item .guess-right .cart[data-v-53a1ac62]{width:%?55?%;height:%?55?%}.guess-section .guess-item .circle[data-v-53a1ac62]{width:%?33?%;height:%?33?%;border-radius:50%;line-height:%?33?%;position:absolute;right:%?15?%;bottom:%?55?%;font-size:%?22?%;text-align:center;color:#e84c8e;z-index:99;background-color:#fff}.guess-section .image-wrapper[data-v-53a1ac62]{width:100%;height:%?300?%;border-radius:3px;overflow:hidden}.guess-section .image-wrapper uni-image[data-v-53a1ac62]{width:100%;height:100%;opacity:1}.guess-section .title[data-v-53a1ac62]{font-size:%?24?%;color:#303133;line-height:%?80?%}.guess-section .price[data-v-53a1ac62]{font-size:%?24?%;color:#fa436a;line-height:1}.recommend[data-v-53a1ac62]{padding:%?10?%;position:relative}.recommend .title[data-v-53a1ac62]{padding:%?10?% %?50?%;font-weight:700}.recommend .center_a[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left}.recommend .center_a uni-view[data-v-53a1ac62]{width:30%;text-align:center;height:%?80?%}.recommend .center_a uni-view uni-text[data-v-53a1ac62]{background-color:#eee;padding:%?10?% %?50?%;border-radius:%?15?%;color:#333;font-size:%?24?%}.recommend .center_b[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left}.recommend .center_b uni-view[data-v-53a1ac62]{padding:%?10?%;text-align:center;height:%?80?%}.recommend .center_b uni-view uni-text[data-v-53a1ac62]{background-color:#eee;padding:%?10?% %?50?%;border-radius:%?15?%;color:#333;font-size:%?24?%}.navbar[data-v-53a1ac62]{background-color:#555;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;height:%?80?%;background:#fff;-webkit-box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);box-shadow:0 %?2?% %?10?% rgba(0,0,0,.06);z-index:10}.navbar .nav-item[data-v-53a1ac62]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:100%;font-size:%?30?%;color:#000;position:relative}.navbar .nav-item.current[data-v-53a1ac62]{color:#000}.navbar .nav-item.current[data-v-53a1ac62]:after{content:"";position:absolute;left:50%;bottom:0;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:%?120?%;height:0;border-bottom:%?5?% solid #e84c8e}.navbar .p-box[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.navbar .p-box .yticon[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:%?30?%;height:%?14?%;line-height:1.2;margin-left:%?4?%;font-size:%?26?%;color:#000}.navbar .p-box .yticon.active[data-v-53a1ac62]{color:#e84c8e}.navbar .p-box .xia[data-v-53a1ac62]{-webkit-transform:scaleY(-1);-ms-transform:scaleY(-1);transform:scaleY(-1)}.navbar .cate-item[data-v-53a1ac62]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:100%;width:%?80?%;position:relative;font-size:%?44?%}.navbar .cate-item[data-v-53a1ac62]:after{content:"";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-left:1px solid #ddd;width:0;height:%?36?%}',""])}}]);